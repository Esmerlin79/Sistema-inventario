(function (t) { function e(e) { for (var o, r, n = e[0], l = e[1], c = e[2], d = 0, v = []; d < n.length; d++)r = n[d], i[r] && v.push(i[r][0]), i[r] = 0; for (o in l) Object.prototype.hasOwnProperty.call(l, o) && (t[o] = l[o]); u && u(e); while (v.length) v.shift()(); return s.push.apply(s, c || []), a() } function a() { for (var t, e = 0; e < s.length; e++) { for (var a = s[e], o = !0, r = 1; r < a.length; r++) { var l = a[r]; 0 !== i[l] && (o = !1) } o && (s.splice(e--, 1), t = n(n.s = a[0])) } return t } var o = {}, i = { app: 0 }, s = []; function r(t) { return n.p + "js/" + ({}[t] || t) + "." + { "chunk-2d216214": "63663bdb", "chunk-44195b2c": "5eff532a" }[t] + ".js" } function n(e) { if (o[e]) return o[e].exports; var a = o[e] = { i: e, l: !1, exports: {} }; return t[e].call(a.exports, a, a.exports, n), a.l = !0, a.exports } n.e = function (t) { var e = [], a = i[t]; if (0 !== a) if (a) e.push(a[2]); else { var o = new Promise(function (e, o) { a = i[t] = [e, o] }); e.push(a[2] = o); var s, l = document.getElementsByTagName("head")[0], c = document.createElement("script"); c.charset = "utf-8", c.timeout = 120, n.nc && c.setAttribute("nonce", n.nc), c.src = r(t), s = function (e) { c.onerror = c.onload = null, clearTimeout(d); var a = i[t]; if (0 !== a) { if (a) { var o = e && ("load" === e.type ? "missing" : e.type), s = e && e.target && e.target.src, r = new Error("Loading chunk " + t + " failed.\n(" + o + ": " + s + ")"); r.type = o, r.request = s, a[1](r) } i[t] = void 0 } }; var d = setTimeout(function () { s({ type: "timeout", target: c }) }, 12e4); c.onerror = c.onload = s, l.appendChild(c) } return Promise.all(e) }, n.m = t, n.c = o, n.d = function (t, e, a) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: a }) }, n.r = function (t) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e) return t; if (4 & e && "object" === typeof t && t && t.__esModule) return t; var a = Object.create(null); if (n.r(a), Object.defineProperty(a, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var o in t) n.d(a, o, function (e) { return t[e] }.bind(null, o)); return a }, n.n = function (t) { var e = t && t.__esModule ? function () { return t["default"] } : function () { return t }; return n.d(e, "a", e), e }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, n.p = "/", n.oe = function (t) { throw console.error(t), t }; var l = window["webpackJsonp"] = window["webpackJsonp"] || [], c = l.push.bind(l); l.push = e, l = l.slice(); for (var d = 0; d < l.length; d++)e(l[d]); var u = c; s.push([0, "chunk-vendors"]), a() })({ 0: function (t, e, a) { t.exports = a("56d7") }, "1a30": function (t, e, a) { "use strict"; var o = a("5a11"), i = a.n(o); i.a }, "38b6": function (t, e, a) { "use strict"; var o = a("8db1"), i = a.n(o); i.a }, 4678: function (t, e, a) { var o = { "./af": "2bfb", "./af.js": "2bfb", "./ar": "8e73", "./ar-dz": "a356", "./ar-dz.js": "a356", "./ar-kw": "423e", "./ar-kw.js": "423e", "./ar-ly": "1cfd", "./ar-ly.js": "1cfd", "./ar-ma": "0a84", "./ar-ma.js": "0a84", "./ar-sa": "8230", "./ar-sa.js": "8230", "./ar-tn": "6d83", "./ar-tn.js": "6d83", "./ar.js": "8e73", "./az": "485c", "./az.js": "485c", "./be": "1fc1", "./be.js": "1fc1", "./bg": "84aa", "./bg.js": "84aa", "./bm": "a7fa", "./bm.js": "a7fa", "./bn": "9043", "./bn-bd": "9686", "./bn-bd.js": "9686", "./bn.js": "9043", "./bo": "d26a", "./bo.js": "d26a", "./br": "6887", "./br.js": "6887", "./bs": "2554", "./bs.js": "2554", "./ca": "d716", "./ca.js": "d716", "./cs": "3c0d", "./cs.js": "3c0d", "./cv": "03ec", "./cv.js": "03ec", "./cy": "9797", "./cy.js": "9797", "./da": "0f14", "./da.js": "0f14", "./de": "b469", "./de-at": "b3eb", "./de-at.js": "b3eb", "./de-ch": "bb718", "./de-ch.js": "bb718", "./de.js": "b469", "./dv": "598a", "./dv.js": "598a", "./el": "8d47", "./el.js": "8d47", "./en-au": "0e6b", "./en-au.js": "0e6b", "./en-ca": "3886", "./en-ca.js": "3886", "./en-gb": "39a6", "./en-gb.js": "39a6", "./en-ie": "e1d3", "./en-ie.js": "e1d3", "./en-il": "7333", "./en-il.js": "7333", "./en-in": "ec2e", "./en-in.js": "ec2e", "./en-nz": "6f50", "./en-nz.js": "6f50", "./en-sg": "b7e9", "./en-sg.js": "b7e9", "./eo": "65db", "./eo.js": "65db", "./es": "898b", "./es-do": "0a3c", "./es-do.js": "0a3c", "./es-mx": "b5b7", "./es-mx.js": "b5b7", "./es-us": "55c9", "./es-us.js": "55c9", "./es.js": "898b", "./et": "ec18", "./et.js": "ec18", "./eu": "0ff2", "./eu.js": "0ff2", "./fa": "8df4", "./fa.js": "8df4", "./fi": "81e9", "./fi.js": "81e9", "./fil": "d69a", "./fil.js": "d69a", "./fo": "0721", "./fo.js": "0721", "./fr": "9f26", "./fr-ca": "d9f8", "./fr-ca.js": "d9f8", "./fr-ch": "0e49", "./fr-ch.js": "0e49", "./fr.js": "9f26", "./fy": "7118", "./fy.js": "7118", "./ga": "5120", "./ga.js": "5120", "./gd": "f6b4", "./gd.js": "f6b4", "./gl": "8840", "./gl.js": "8840", "./gom-deva": "aaf2", "./gom-deva.js": "aaf2", "./gom-latn": "0caa", "./gom-latn.js": "0caa", "./gu": "e0c5", "./gu.js": "e0c5", "./he": "c7aa", "./he.js": "c7aa", "./hi": "dc4d", "./hi.js": "dc4d", "./hr": "4ba9", "./hr.js": "4ba9", "./hu": "5b14", "./hu.js": "5b14", "./hy-am": "d6b6", "./hy-am.js": "d6b6", "./id": "5038", "./id.js": "5038", "./is": "0558", "./is.js": "0558", "./it": "6e98", "./it-ch": "6f12", "./it-ch.js": "6f12", "./it.js": "6e98", "./ja": "079e", "./ja.js": "079e", "./jv": "b540", "./jv.js": "b540", "./ka": "201b", "./ka.js": "201b", "./kk": "6d79", "./kk.js": "6d79", "./km": "e81d", "./km.js": "e81d", "./kn": "3e92", "./kn.js": "3e92", "./ko": "22f8", "./ko.js": "22f8", "./ku": "2421", "./ku.js": "2421", "./ky": "9609", "./ky.js": "9609", "./lb": "440c", "./lb.js": "440c", "./lo": "b29d", "./lo.js": "b29d", "./lt": "26f9", "./lt.js": "26f9", "./lv": "b97c", "./lv.js": "b97c", "./me": "293c", "./me.js": "293c", "./mi": "688b", "./mi.js": "688b", "./mk": "6909", "./mk.js": "6909", "./ml": "02fb", "./ml.js": "02fb", "./mn": "958b", "./mn.js": "958b", "./mr": "39bd", "./mr.js": "39bd", "./ms": "ebe4", "./ms-my": "6403", "./ms-my.js": "6403", "./ms.js": "ebe4", "./mt": "1b45", "./mt.js": "1b45", "./my": "8689", "./my.js": "8689", "./nb": "6ce3", "./nb.js": "6ce3", "./ne": "3a39", "./ne.js": "3a39", "./nl": "facd", "./nl-be": "db29", "./nl-be.js": "db29", "./nl.js": "facd", "./nn": "b84c", "./nn.js": "b84c", "./oc-lnc": "167b", "./oc-lnc.js": "167b", "./pa-in": "f3ff", "./pa-in.js": "f3ff", "./pl": "8d57", "./pl.js": "8d57", "./pt": "f260", "./pt-br": "d2d4", "./pt-br.js": "d2d4", "./pt.js": "f260", "./ro": "972c", "./ro.js": "972c", "./ru": "957c", "./ru.js": "957c", "./sd": "6784", "./sd.js": "6784", "./se": "ffff", "./se.js": "ffff", "./si": "eda5", "./si.js": "eda5", "./sk": "7be6", "./sk.js": "7be6", "./sl": "8155", "./sl.js": "8155", "./sq": "c8f3", "./sq.js": "c8f3", "./sr": "cf1e", "./sr-cyrl": "13e9", "./sr-cyrl.js": "13e9", "./sr.js": "cf1e", "./ss": "52bd", "./ss.js": "52bd", "./sv": "5fbd", "./sv.js": "5fbd", "./sw": "74dc", "./sw.js": "74dc", "./ta": "3de5", "./ta.js": "3de5", "./te": "5cbb", "./te.js": "5cbb", "./tet": "576c", "./tet.js": "576c", "./tg": "3b1b", "./tg.js": "3b1b", "./th": "10e8", "./th.js": "10e8", "./tk": "5aff", "./tk.js": "5aff", "./tl-ph": "0f38", "./tl-ph.js": "0f38", "./tlh": "cf75", "./tlh.js": "cf75", "./tr": "0e81", "./tr.js": "0e81", "./tzl": "cf51", "./tzl.js": "cf51", "./tzm": "c109", "./tzm-latn": "b53d", "./tzm-latn.js": "b53d", "./tzm.js": "c109", "./ug-cn": "6117", "./ug-cn.js": "6117", "./uk": "ada2", "./uk.js": "ada2", "./ur": "5294", "./ur.js": "5294", "./uz": "2e8c", "./uz-latn": "010e", "./uz-latn.js": "010e", "./uz.js": "2e8c", "./vi": "2921", "./vi.js": "2921", "./x-pseudo": "fd7e", "./x-pseudo.js": "fd7e", "./yo": "7f33", "./yo.js": "7f33", "./zh-cn": "5c3a", "./zh-cn.js": "5c3a", "./zh-hk": "49ab", "./zh-hk.js": "49ab", "./zh-mo": "3a6c", "./zh-mo.js": "3a6c", "./zh-tw": "90ea", "./zh-tw.js": "90ea" }; function i(t) { var e = s(t); return a(e) } function s(t) { var e = o[t]; if (!(e + 1)) { var a = new Error("Cannot find module '" + t + "'"); throw a.code = "MODULE_NOT_FOUND", a } return e } i.keys = function () { return Object.keys(o) }, i.resolve = s, t.exports = i, i.id = "4678" }, "56d7": function (t, e, a) { "use strict"; a.r(e); a("cadf"), a("551c"), a("097d"); var o = a("2b0e"), i = a("bb71"); a("da64"); o["a"].use(i["a"], { theme: { primary: "#1976D2", secondary: "#424242", accent: "#82B1FF", error: "#FF5252", info: "#2196F3", success: "#4CAF50", warning: "#FFC107" }, customProperties: !0, iconfont: "md" }); var s = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-app", { attrs: { id: "inspire" } }, [t.logueado ? a("v-navigation-drawer", { attrs: { clipped: t.$vuetify.breakpoint.lgAndUp, fixed: "", app: "" }, model: { value: t.drawer, callback: function (e) { t.drawer = e }, expression: "drawer" } }, [a("v-list", { attrs: { dense: "" } }, [t.esAdministrador || t.esAlmacenero || t.esVendedor ? [a("v-list-tile", { attrs: { to: { name: "home" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("home")])], 1), a("v-list-tile-title", [t._v("\n            Inicio\n          ")])], 1)] : t._e(), t.esAdministrador || t.esAlmacenero ? [a("v-list-group", [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Almacén\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "categorias" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Categorías\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "articulos" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Aticulos\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador || t.esAlmacenero ? [a("v-list-group", [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Compras\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "ingreso" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Ingresos\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "proveedores" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Proveedores\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador || t.esVendedor ? [a("v-list-group", [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Ventas\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "venta" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Ventas\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "clientes" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Clientes\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador ? [a("v-list-group", [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Accesos\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "roles" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Roles\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "usuarios" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Usuarios\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador ? [a("v-list-group", [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Consultas\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Consulta de Compras\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "consultaVentas" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Consulta de Ventas\n              ")])], 1)], 1)], 1)] : t._e()], 2)], 1) : t._e(), a("v-toolbar", { attrs: { "clipped-left": t.$vuetify.breakpoint.lgAndUp, color: "blue darken-3", dark: "", app: "", fixed: "" } }, [a("v-toolbar-title", { staticClass: "ml-0 pl-3", staticStyle: { width: "300px" } }, [a("v-toolbar-side-icon", { on: { click: function (e) { e.stopPropagation(), t.drawer = !t.drawer } } }), a("span", { staticClass: "hidden-sm-and-down" }, [t._v("Sistema")])], 1), a("v-spacer"), t.logueado ? a("v-btn", { attrs: { icon: "" }, on: { click: t.salir } }, [a("v-icon", [t._v("logout ")]), t._v(" Salir\n    ")], 1) : a("v-btn", { attrs: { to: { name: "login" } } }, [a("v-icon", [t._v("apps ")]), t._v(" Login\n    ")], 1)], 1), a("v-content", [a("v-container", { attrs: { fluid: "", "fill-height": "" } }, [a("v-slide-y-transition", { attrs: { mode: "out-in" } }, [a("router-view")], 1)], 1)], 1), a("v-footer", { attrs: { dark: "", height: "auto" } }, [a("v-layout", { attrs: { "justify-center": "" } }, [a("v-flex", { attrs: { "text-xs-center": "" } }, [a("v-card", { staticClass: "white--text", attrs: { flat: "", tile: "", color: "primary" } }, [a("v-card-text", { staticClass: "white--text pt-0" }, [t._v("\n            IncanatoIT ©2018\n          ")])], 1)], 1)], 1)], 1)], 1) }, r = [], n = { name: "App", data: function () { return { drawer: null } }, computed: { logueado: function () { return this.$store.state.usuario }, esAdministrador: function () { return this.$store.state.usuario && "Administrador" == this.$store.state.usuario.rol }, esAlmacenero: function () { return this.$store.state.usuario && "Almacenero" == this.$store.state.usuario.rol }, esVendedor: function () { return this.$store.state.usuario && "Vendedor" == this.$store.state.usuario.rol } }, created: function () { this.$store.dispatch("autoLogin") }, methods: { salir: function () { this.$store.dispatch("salir") } } }, l = n, c = a("2877"), d = a("6544"), u = a.n(d), v = a("7496"), m = a("8336"), h = a("b0af"), p = a("99d9"), b = a("a523"), f = a("549c"), _ = a("0e8f"), x = a("553a"), g = a("132d"), k = a("a722"), C = a("8860"), A = a("56b0"), V = a("ba95"), j = a("40fe"), y = a("5d23"), D = a("f774"), M = a("0789"), w = a("9910"), T = a("71d9"), I = a("706c"), N = a("2a7f"), P = Object(c["a"])(l, s, r, !1, null, null, null); P.options.__file = "App.vue"; var E = P.exports; u()(P, { VApp: v["a"], VBtn: m["a"], VCard: h["a"], VCardText: p["b"], VContainer: b["a"], VContent: f["a"], VFlex: _["a"], VFooter: x["a"], VIcon: g["a"], VLayout: k["a"], VList: C["a"], VListGroup: A["a"], VListTile: V["a"], VListTileAction: j["a"], VListTileContent: y["a"], VListTileTitle: y["b"], VNavigationDrawer: D["a"], VSlideYTransition: M["d"], VSpacer: w["a"], VToolbar: T["a"], VToolbarSideIcon: I["a"], VToolbarTitle: N["a"] }); var S = a("8c4f"), F = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("HelloWorld") }, z = [], O = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-container", { attrs: { "grid-list-m": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("div", [a("canvas", { attrs: { id: "myChart" } })])])], 1)], 1) }, U = [], B = a("bc3a"), L = a.n(B), q = a("30ef"), R = a.n(q), G = { data: function () { return { mesesValores: null, nombresMeses: [], totalMeses: [] } }, methods: { loadProductosMasVendidos: function () { var t = this, e = ""; t.mesesValores.map(function (a) { switch (parseInt(a.etiqueta)) { case 1: e = "Enero"; break; case 2: e = "Febrero"; break; case 3: e = "Marzo"; break; case 4: e = "Abril"; break; case 5: e = "Mayo"; break; case 6: e = "Junio"; break; case 7: e = "Julio"; break; case 8: e = "Agosto"; break; case 9: e = "Septiembre"; break; case 10: e = "Octubre"; break; case 11: e = "Noviembre"; break; case 12: e = "Diciembre"; break; default: e = "Error"; break }t.nombresMeses.push(e), t.totalMeses.push(a.valor) }); var a = document.getElementById("myChart"); new R.a(a, { type: "bar", data: { labels: t.nombresMeses, datasets: [{ label: "Ventas en los ultimos 12 Meses", data: t.totalMeses, backgroundColor: ["rgba(255, 99, 132, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 206, 86, 0.2)", "rgba(75, 192, 192, 0.2)", "rgba(153, 102, 255, 0.2)", "rgba(255, 159, 64, 0.2)", "rgba(255, 99, 132, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 206, 86, 0.2)", "rgba(75, 192, 192, 0.2)", "rgba(153, 102, 255, 0.2)", "rgba(255, 159, 64, 0.2)"], borderColor: ["rgba(255, 99, 132, 1)", "rgba(54, 162, 235, 1)", "rgba(255, 206, 86, 1)", "rgba(75, 192, 192, 1)", "rgba(153, 102, 255, 1)", "rgba(255, 159, 64, 1)", "rgba(255, 99, 132, 1)", "rgba(54, 162, 235, 1)", "rgba(255, 206, 86, 1)", "rgba(75, 192, 192, 1)", "rgba(153, 102, 255, 1)", "rgba(255, 159, 64, 1)"], borderWidth: 1 }] }, options: { scales: { yAxes: [{ ticks: { beginAtZero: !0 } }] } } }) }, getProductoMasVendidos: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Ventas/VentasMes12", a).then(function (e) { t.mesesValores = e.data, t.loadProductosMasVendidos() }).catch(function (t) { console.log(t) }) } }, mounted: function () { this.getProductoMasVendidos() } }, $ = G, H = (a("c594"), Object(c["a"])($, O, U, !1, null, "d0518f2c", null)); H.options.__file = "HelloWorld.vue"; var K = H.exports; u()(H, { VContainer: b["a"], VFlex: _["a"], VLayout: k["a"] }); var W = { components: { HelloWorld: K } }, X = W, Q = Object(c["a"])(X, F, z, !1, null, null, null); Q.options.__file = "Home.vue"; var J = Q.exports, Z = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Categorías")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Nombre" }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Descripcion" }, model: { value: t.descripcion, callback: function (e) { t.descripcion = e }, expression: "descripcion" } })], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }))], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.close(e) } } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.guardar(e) } } }, [t._v("Guardar")])], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "350px" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Activar categoria?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Desactivar categoria?")]) : t._e(), a("v-card-text", [t._v("\n                            Estas a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Desactivar")]) : t._e(), t._v("\n                            la categoria " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "red darken-2", flat: "flat" }, on: { click: t.ActivarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Desactivar\n                            ")]) : t._e()], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.categorias, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")]), e.item.condicion ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(1, e.item) } } }, [t._v("\n                        check\n                        ")])]], 2), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2)], 1)], 1) }, Y = [], tt = { data: function () { return { categorias: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Descripcion", value: "descripcion", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", editedIndex: -1, id: "", nombre: "", descripcion: "", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "" } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nueva Categoria" : "Editar Categoria" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Categorias/Listar", a).then(function (e) { t.categorias = e.data }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idcategoria, this.nombre = t.nombre, this.descripcion = t.descripcion, this.editedIndex = 1, this.dialog = !0 }, deleteItem: function (t) { var e = this.desserts.indexOf(t); confirm("Are you sure you want to delete this item?") && this.desserts.splice(e, 1) }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.nombre = "", this.descripcion = "", this.editedIndex = -1 }, guardar: function () { if (this.validar()) console.log(this.validaMensaje); else if (this.editedIndex > -1) { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Categorias/Actualizar", { idcategoria: t.id, nombre: t.nombre, descripcion: t.descripcion }, a).then(function (e) { t.close(), t.listar(), t.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this, i = { Authorization: " Bearer " + this.$store.state.token }, s = { headers: i }; L.a.post("Categorias/Crear", { nombre: o.nombre, descripcion: o.descripcion }, s).then(function (t) { o.close(), o.listar(), o.limpiar() }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], (this.nombre.length < 3 || this.nombre.length > 50) && this.validaMensaje.push("El Nombre no debe tener más de 50 caracteres, ni menos de 3"), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.nombre, this.adId = e.idcategoria, 1 == t ? this.adAccion = 1 : 2 == t ? this.adAccion = 2 : this.adModal = 0 }, activar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Categorias/Activar/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, desactivar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Categorias/Desactivar/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, ActivarDesactivarCerrar: function () { this.adModal = 0 } } }, et = tt, at = a("12b2"), ot = a("8fea"), it = a("169a"), st = a("ce7e"), rt = a("2677"), nt = Object(c["a"])(et, Z, Y, !1, null, null, null); nt.options.__file = "Categoria.vue"; var lt = nt.exports; u()(nt, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var ct = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-btn", { on: { click: t.crearPDF } }, [a("v-icon", [t._v("print")])], 1), a("v-toolbar-title", [t._v("Articulos")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Codigo" }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } })], 1), a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.categorias, label: "Categoria" }, model: { value: t.idcategoria, callback: function (e) { t.idcategoria = e }, expression: "idcategoria" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Nombre" }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Stock" }, model: { value: t.stock, callback: function (e) { t.stock = e }, expression: "stock" } })], 1), a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Precio Venta" }, model: { value: t.precio_venta, callback: function (e) { t.precio_venta = e }, expression: "precio_venta" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Descripcion" }, model: { value: t.descripcion, callback: function (e) { t.descripcion = e }, expression: "descripcion" } })], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }))], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.close(e) } } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.guardar(e) } } }, [t._v("Guardar")])], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "350px" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Activar Articulo?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Desactivar Articulo?")]) : t._e(), a("v-card-text", [t._v("\n                            Estas a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Desactivar")]) : t._e(), t._v("\n                            el articulo " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "red darken-2", flat: "flat" }, on: { click: t.ActivarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Desactivar\n                            ")]) : t._e()], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.articulos, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")]), e.item.condicion ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(1, e.item) } } }, [t._v("\n                        check\n                        ")])]], 2), a("td", [t._v(t._s(e.item.codigo))]), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.categoria))]), a("td", [t._v(t._s(e.item.stock))]), a("td", [t._v(t._s(e.item.precio_venta))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2)], 1)], 1) }, dt = [], ut = a("8baf"), vt = (a("0da4"), { data: function () { return { articulos: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Codigo", value: "codigo", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Categoria", value: "categoria" }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }, { text: "Descripcion", value: "descripcion", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", editedIndex: -1, id: "", idcategoria: "", categorias: [], codigo: "", nombre: "", stock: 0, precio_venta: 0, descripcion: "", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "" } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo Articulo" : "Editar Articulo" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { crearPDF: function () { var t = [{ title: "Nombre", dataKey: "nombre" }, { title: "Código", dataKey: "codigo" }, { title: "Categoría", dataKey: "categoria" }, { title: "Stock", dataKey: "stock" }, { title: "Precio Venta", dataKey: "precio_venta" }], e = []; this.articulos.map(function (t) { e.push({ nombre: t.nombre, codigo: t.codigo, categoria: t.categoria, stock: t.stock, precio_venta: t.precio_venta }) }); var a = new ut["default"]("p", "pt"); a.autoTable(t, e, { margin: { top: 60 }, addPageContent: function (t) { a.text("Listado de Artículos", 40, 30) } }), a.save("Articulos.pdf") }, listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Articulos/Listar", a).then(function (e) { t.articulos = e.data }).catch(function (t) { console.log(t) }) }, select: function () { var t = this, e = [], a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Categorias/Select", o).then(function (a) { e = a.data, e.map(function (e) { t.categorias.push({ text: e.nombre, value: e.idcategoria }) }) }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idarticulo, this.idcategoria = t.idcategoria, this.codigo = t.codigo, this.nombre = t.nombre, this.stock = t.stock, this.precio_venta = t.precio_venta, this.descripcion = t.descripcion, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.idcategoria = "", this.nombre = "", this.codigo = "", this.precio_venta = "", this.stock = "", this.descripcion = "", this.editedIndex = -1 }, guardar: function () { if (this.validar()) console.log(this.validaMensaje); else if (this.editedIndex > -1) { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Articulos/Actualizar", { idarticulo: t.id, idcategoria: t.idcategoria, codigo: t.codigo, nombre: t.nombre, precio_venta: t.precio_venta, stock: t.stock, descripcion: t.descripcion }, a).then(function (e) { t.close(), t.listar(), t.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this, i = { Authorization: " Bearer " + this.$store.state.token }, s = { headers: i }; L.a.post("Articulos/Crear", { idcategoria: o.idcategoria, codigo: o.codigo, nombre: o.nombre, precio_venta: o.precio_venta, stock: o.stock, descripcion: o.descripcion }, s).then(function (t) { o.close(), o.listar(), o.limpiar() }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], (this.nombre.length < 3 || this.nombre.length > 50) && this.validaMensaje.push("El Nombre no debe tener más de 50 caracteres, ni menos de 3."), this.idcategoria || this.validaMensaje.push("Seleccione una categoria."), this.stock && 0 != this.stock || this.validaMensaje.push("Ingrese el stock inicial del articulo."), this.precio_venta && 0 != this.precio_venta || this.validaMensaje.push("Ingrese el precio de venta del articulo."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.nombre, this.adId = e.idarticulo, 1 == t ? this.adAccion = 1 : 2 == t ? this.adAccion = 2 : this.adModal = 0 }, activar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Articulos/Activar/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, desactivar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Articulos/Desactivar/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, ActivarDesactivarCerrar: function () { this.adModal = 0 } } }), mt = vt, ht = a("b56d"), pt = Object(c["a"])(mt, ct, dt, !1, null, null, null); pt.options.__file = "Articulo.vue"; var bt = pt.exports; u()(pt, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var ft = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Roles")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer")], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.roles, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2)], 1)], 1) }, _t = [], xt = { data: function () { return { roles: [], dialog: !1, headers: [{ text: "Nombre", value: "nombre" }, { text: "Descripcion", value: "descripcion", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "" } }, computed: {}, watch: {}, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Roles/Listar", a).then(function (e) { t.roles = e.data }).catch(function (t) { console.log(t) }) } } }, gt = xt, kt = Object(c["a"])(gt, ft, _t, !1, null, null, null); kt.options.__file = "Rol.vue"; var Ct = kt.exports; u()(kt, { VBtn: m["a"], VDataTable: ot["a"], VDivider: st["a"], VFlex: _["a"], VLayout: k["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var At = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Usuarios")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Nombre" }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.roles, label: "Rol" }, model: { value: t.idrol, callback: function (e) { t.idrol = e }, expression: "idrol" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.documentos, label: "Tipo Documento" }, model: { value: t.tipo_documento, callback: function (e) { t.tipo_documento = e }, expression: "tipo_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Numero Documento" }, model: { value: t.num_documento, callback: function (e) { t.num_documento = e }, expression: "num_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Direccion" }, model: { value: t.direccion, callback: function (e) { t.direccion = e }, expression: "direccion" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Telefono" }, model: { value: t.telefono, callback: function (e) { t.telefono = e }, expression: "telefono" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "email", label: "Email" }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "password", label: "Password" }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } })], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, [t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }, [t._v("\n                                        " + t._s(t.errorApi) + "\n                                    ")]) }), t.errorApi ? t._e() : a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorApi) } })], 2), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.errorApi, expression: "errorApi" }], attrs: { xs12: "", sm12: "", md12: "" } }, [a("div", { staticClass: "red--text" }, [t._v("\n                                        " + t._s(t.errorApi) + "\n                                    ")])])], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.close(e) } } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.guardar(e) } } }, [t._v("Guardar")])], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "350px" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Activar Usuario?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Desactivar Usuario?")]) : t._e(), a("v-card-text", [t._v("\n                            Estas a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Desactivar")]) : t._e(), t._v("\n                            el Usuario " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "red darken-2", flat: "flat" }, on: { click: t.ActivarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Desactivar\n                            ")]) : t._e()], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.usuarios, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")]), e.item.condicion ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                    block\n                    ")])] : [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(1, e.item) } } }, [t._v("\n                    check\n                    ")])]], 2), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.rol))]), a("td", [t._v(t._s(e.item.tipo_documento))]), a("td", [t._v(t._s(e.item.num_documento))]), a("td", [t._v(t._s(e.item.direccion))]), a("td", [t._v(t._s(e.item.telefono))]), a("td", [t._v(t._s(e.item.email))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2)], 1)], 1) }, Vt = [], jt = { data: function () { return { usuarios: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Rol", value: "rol" }, { text: "Tipo Documento", value: "tipo_documento" }, { text: "Numero Documento", value: "num_documento", sortable: !1 }, { text: "Direccion", value: "direccion", sortable: !1 }, { text: "Telefono", value: "telefono", sortable: !1 }, { text: "Email", value: "email", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", editedIndex: -1, id: "", idrol: "", roles: [], tipo_documento: "", documentos: ["CEDULA", "PASAPORTE", "RNC", "DNI"], num_documento: "", nombre: "", direccion: "", telefono: "", email: "", password: "", act_password: !1, passwordAnt: "", valida: 0, validaMensaje: [], errorApi: null, adModal: 0, adAccion: 0, adNombre: "", adId: "" } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo Usuario" : "Editar Usuario" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Usuarios/Listar", a).then(function (e) { t.usuarios = e.data }).catch(function (t) { console.log(t) }) }, select: function () { var t = this, e = [], a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Roles/Select", o).then(function (a) { e = a.data, e.map(function (e) { t.roles.push({ text: e.nombre, value: e.idrol }) }) }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idusuario, this.idrol = t.idrol, this.codigo = t.codigo, this.nombre = t.nombre, this.tipo_documento = t.tipo_documento, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.password = t.password_hash, this.passwordAnt = t.password_hash, this.act_password = t.act_password, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.idrol = "", this.nombre = "", this.tipo_documento = "", this.num_documento = "", this.direccion = "", this.telefono = "", this.email = "", this.password = "", this.act_password = !1, this.passwordAnt = "", this.editedIndex = -1 }, guardar: function () { var t = this; if (this.validar()) console.log(this.validaMensaje); else if (this.editedIndex > -1) { var e = this, a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; e.password != e.passwordAnt && (e.act_password = !0), L.a.put("Usuarios/Actualizar", { idusuario: e.id, idrol: e.idrol, nombre: e.nombre, tipo_documento: e.tipo_documento, num_documento: e.num_documento, direccion: e.direccion, telefono: e.telefono, email: e.email, password: e.password, act_password: e.act_password }, o).then(function (t) { e.close(), e.listar(), e.limpiar() }).catch(function (t) { 400 == t.response.status && (this.errorApi = "El email registrado ya existe") }) } else { var i = this, s = { Authorization: " Bearer " + this.$store.state.token }, r = { headers: s }; L.a.post("Usuarios/Crear", { idrol: i.idrol, nombre: i.nombre, tipo_documento: i.tipo_documento, num_documento: i.num_documento, direccion: i.direccion, telefono: i.telefono, email: i.email, password: i.password }, r).then(function (t) { i.close(), i.listar(), i.limpiar() }).then(function (t) { }).catch(function (e) { 400 == e.response.status && (t.errorApi = "El email registrado ya existe") }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], (this.nombre.length < 3 || this.nombre.length > 50) && this.validaMensaje.push("El Nombre no debe tener más de 50 caracteres, ni menos de 3."), this.idrol || this.validaMensaje.push("Seleccione un Rol."), this.tipo_documento || this.validaMensaje.push("Seleccione un Tipo de Documento."), this.email || this.validaMensaje.push("Ingrese un email."), this.password || this.validaMensaje.push("Ingrese un password valido."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.nombre, this.adId = e.idusuario, 1 == t ? this.adAccion = 1 : 2 == t ? this.adAccion = 2 : this.adModal = 0 }, activar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Usuarios/Activar/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, desactivar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Usuarios/Desactivar/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, ActivarDesactivarCerrar: function () { this.adModal = 0 } } }, yt = jt, Dt = Object(c["a"])(yt, At, Vt, !1, null, null, null); Dt.options.__file = "Usuario.vue"; var Mt = Dt.exports; u()(Dt, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var wt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Clientes")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Nombre" }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.documentos, label: "Tipo Documento" }, model: { value: t.tipo_documento, callback: function (e) { t.tipo_documento = e }, expression: "tipo_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Numero Documento" }, model: { value: t.num_documento, callback: function (e) { t.num_documento = e }, expression: "num_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Direccion" }, model: { value: t.direccion, callback: function (e) { t.direccion = e }, expression: "direccion" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Telefono" }, model: { value: t.telefono, callback: function (e) { t.telefono = e }, expression: "telefono" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "email", label: "Email" }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } })], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }))], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.close(e) } } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.guardar(e) } } }, [t._v("Guardar")])], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.clientes, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.tipo_documento))]), a("td", [t._v(t._s(e.item.num_documento))]), a("td", [t._v(t._s(e.item.direccion))]), a("td", [t._v(t._s(e.item.telefono))]), a("td", [t._v(t._s(e.item.email))])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2)], 1)], 1) }, Tt = [], It = { data: function () { return { clientes: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Tipo Documento", value: "tipo_documento" }, { text: "Numero Documento", value: "num_documento", sortable: !1 }, { text: "Direccion", value: "direccion", sortable: !1 }, { text: "Telefono", value: "telefono", sortable: !1 }, { text: "Email", value: "email", sortable: !1 }], search: "", editedIndex: -1, id: "", tipo_documento: "", documentos: ["CEDULA", "PASAPORTE", "RNC", "DNI"], num_documento: "", nombre: "", direccion: "", telefono: "", email: "", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "" } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo Cliente" : "Editar Cliente" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Personas/ListarClientes", a).then(function (e) { t.clientes = e.data }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idpersona, this.nombre = t.nombre, this.tipo_documento = t.tipo_documento, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.nombre = "", this.tipo_documento = "", this.num_documento = "", this.direccion = "", this.telefono = "", this.email = "", this.editedIndex = -1 }, guardar: function () { if (this.validar()) console.log(this.validaMensaje); else if (this.editedIndex > -1) { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Personas/Actualizar", { idpersona: t.id, tipo_persona: "Cliente", nombre: t.nombre, tipo_documento: t.tipo_documento, num_documento: t.num_documento, direccion: t.direccion, telefono: t.telefono, email: t.email }, a).then(function (e) { t.close(), t.listar(), t.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this, i = { Authorization: " Bearer " + this.$store.state.token }, s = { headers: i }; L.a.post("Personas/Crear", { tipo_persona: "Cliente", nombre: o.nombre, tipo_documento: o.tipo_documento, num_documento: o.num_documento, direccion: o.direccion, telefono: o.telefono, email: o.email }, s).then(function (t) { o.close(), o.listar(), o.limpiar() }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], (this.nombre.length < 3 || this.nombre.length > 50) && this.validaMensaje.push("El Nombre no debe tener más de 50 caracteres, ni menos de 3."), this.tipo_documento || this.validaMensaje.push("Seleccione un Tipo de Documento."), this.validaMensaje.length && (this.valida = 1), this.valida } } }, Nt = It, Pt = Object(c["a"])(Nt, wt, Tt, !1, null, null, null); Pt.options.__file = "Cliente.vue"; var Et = Pt.exports; u()(Pt, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var St = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Proveedores")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Nombre" }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.documentos, label: "Tipo Documento" }, model: { value: t.tipo_documento, callback: function (e) { t.tipo_documento = e }, expression: "tipo_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Numero Documento" }, model: { value: t.num_documento, callback: function (e) { t.num_documento = e }, expression: "num_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Direccion" }, model: { value: t.direccion, callback: function (e) { t.direccion = e }, expression: "direccion" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Telefono" }, model: { value: t.telefono, callback: function (e) { t.telefono = e }, expression: "telefono" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "email", label: "Email" }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } })], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }))], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.close(e) } } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, nativeOn: { click: function (e) { return t.guardar(e) } } }, [t._v("Guardar")])], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.proveedores, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.tipo_documento))]), a("td", [t._v(t._s(e.item.num_documento))]), a("td", [t._v(t._s(e.item.direccion))]), a("td", [t._v(t._s(e.item.telefono))]), a("td", [t._v(t._s(e.item.email))])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2)], 1)], 1) }, Ft = [], zt = { data: function () { return { proveedores: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Tipo Documento", value: "tipo_documento" }, { text: "Numero Documento", value: "num_documento", sortable: !1 }, { text: "Direccion", value: "direccion", sortable: !1 }, { text: "Telefono", value: "telefono", sortable: !1 }, { text: "Email", value: "email", sortable: !1 }], search: "", editedIndex: -1, id: "", tipo_documento: "", documentos: ["CEDULA", "PASAPORTE", "RNC", "DNI"], num_documento: "", nombre: "", direccion: "", telefono: "", email: "", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "" } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo Proveedor" : "Editar Proveedor" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Personas/ListarProveedores", a).then(function (e) { t.proveedores = e.data }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idpersona, this.nombre = t.nombre, this.tipo_documento = t.tipo_documento, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.nombre = "", this.tipo_documento = "", this.num_documento = "", this.direccion = "", this.telefono = "", this.email = "", this.editedIndex = -1 }, guardar: function () { if (this.validar()) console.log(this.validaMensaje); else if (this.editedIndex > -1) { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Personas/Actualizar", { idpersona: t.id, tipo_persona: "Proveedor", nombre: t.nombre, tipo_documento: t.tipo_documento, num_documento: t.num_documento, direccion: t.direccion, telefono: t.telefono, email: t.email }, a).then(function (e) { t.close(), t.listar(), t.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this, i = { Authorization: " Bearer " + this.$store.state.token }, s = { headers: i }; L.a.post("Personas/Crear", { tipo_persona: "Proveedor", nombre: o.nombre, tipo_documento: o.tipo_documento, num_documento: o.num_documento, direccion: o.direccion, telefono: o.telefono, email: o.email }, s).then(function (t) { o.close(), o.listar(), o.limpiar() }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], (this.nombre.length < 3 || this.nombre.length > 50) && this.validaMensaje.push("El Nombre no debe tener más de 50 caracteres, ni menos de 3."), this.tipo_documento || this.validaMensaje.push("Seleccione un Tipo de Documento."), this.validaMensaje.length && (this.valida = 1), this.valida } } }, Ot = zt, Ut = Object(c["a"])(Ot, St, Ft, !1, null, null, null); Ut.options.__file = "Proveedor.vue"; var Bt = Ut.exports; u()(Ut, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var Lt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-center": "", "justify-center": "" } }, [a("v-flex", { attrs: { xs12: "", sm8: "", md6: "", lg5: "", x14: "" } }, [a("v-card", [a("v-toolbar", { attrs: { dark: "", color: "blue darken-3" } }, [a("v-toolbar-title", [t._v("\n                    Acceso al Sistema\n                ")])], 1), a("v-card-text", [a("v-text-field", { attrs: { autofocus: "", color: "accent", label: "Email", required: "" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.ingresar(e) : null } }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } }), a("v-text-field", { attrs: { type: "password", color: "accent", label: "Pasword", required: "" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.ingresar(e) : null } }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } }), t.error ? a("v-flex", { staticClass: "red--text" }, [t._v("\n                    " + t._s(t.error) + "\n                ")]) : t._e()], 1), a("v-card-actions", { staticClass: "px-3 pb-3" }, [a("v-flex", { attrs: { "text-xs-right": "" } }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.ingresar } }, [t._v("Ingresar")])], 1)], 1)], 1)], 1)], 1) }, qt = [], Rt = { data: function () { return { email: "", password: "", error: null } }, methods: { ingresar: function () { var t = this; this.error = null, L.a.post("Usuarios/Login", { email: this.email, password: this.password }).then(function (t) { return console.log(t.data), t.data }).then(function (e) { t.$store.dispatch("guardarToken", e.token), t.$router.push({ name: "home" }) }).catch(function (e) { 400 == e.response.status ? t.error = "No es un email valido" : 404 == e.response.status ? t.error = "No existe el usuario o sus datos son incorrectos" : t.error = "Ocurrio un error" }) } } }, Gt = Rt, $t = Object(c["a"])(Gt, Lt, qt, !1, null, null, null); $t.options.__file = "Login.vue"; var Ht = $t.exports; u()($t, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VFlex: _["a"], VLayout: k["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var Kt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Ingresos")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), 0 == t.verNuevo ? a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }) : t._e(), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.listar } }, [t._v("Buscar")]) : t._e(), a("v-spacer"), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.mostrarNuevo } }, [t._v("Nuevo")]) : t._e(), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.verArticulos, callback: function (e) { t.verArticulos = e }, expression: "verArticulos" } }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v("Seleccione un Articulo")]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Ingrese articulo a buscar" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.listarArticulo(e) : null } }, model: { value: t.texto, callback: function (e) { t.texto = e }, expression: "texto" } }), [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraArticulos, items: t.articulos }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.agregarDetalle(e.item) } } }, [t._v("\n                                                            add\n                                                            ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.categoria))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [t._v(t._s(e.item.stock))]), a("td", [t._v(t._s(e.item.precio_venta))])] } }]) }, [a("template", { slot: "no-data" }, [a("h3", [t._v("No hay articulos para Mostrar")])])], 2)]], 2)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken", flat: "" }, on: { click: t.ocultarArticulo } }, [t._v("\n                                    Cancelar\n                                ")])], 1)], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "350px" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Anular Ingreso?")]) : t._e(), a("v-card-text", [t._v("\n                            Estas a punto de\n                            "), 2 == t.adAccion ? a("span", [t._v("Anular")]) : t._e(), t._v("\n                            el Ingreso con numero " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "red darken-2", flat: "flat" }, on: { click: t.ActivarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Anular\n                            ")]) : t._e()], 1)], 1)], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ingresos, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.verDetalles(e.item) } } }, [t._v("\n                    tab\n                    ")]), "Aceptado" == e.item.estado ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                    block\n                    ")])] : t._e()], 2), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.proveedor))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v(t._s(e.item.impuesto))]), a("td", [t._v(t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2) : t._e(), t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante" }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante" }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Numero Comprobante" }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.proveedores, label: "Proveedor" }, model: { value: t.idproveedor, callback: function (e) { t.idproveedor = e }, expression: "idproveedor" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Impuesto" }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-text-field", { attrs: { label: "Codigo" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.buscarCodigo(e) : null } }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } })], 1), a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("v-btn", { attrs: { small: "", fab: "", dark: "", color: "teal" }, on: { click: t.mostrarArticulo } }, [a("v-icon", { attrs: { dark: "" } }, [t._v("list")])], 1)], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraDatalles, items: t.detalles, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.eliminarDetalle(t.detalles, e.item) } } }, [t._v("\n                                delete\n                                ")])], 1), a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [t._v("$ " + t._s(e.item.cantidad * e.item.precio))])] } }]) }, [a("template", { slot: "no-data" }, [a("h3", [t._v("No hay articulos agregados al detalle")])])], 2), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                    ")])], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) })), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v("Cancelar")]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success" }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1) : t._e()], 1)], 1) }, Wt = [], Xt = (a("386d"), { data: function () { return { ingresos: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Proveedor", value: "proveedor" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Numero Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora", sortable: !1 }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDatalles: [{ text: "Borrar", value: "borrar", sortable: !1 }, { text: "Articulo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], detalles: [], search: "", id: "", idproveedor: "", proveedores: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET", "GUIA"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Articulo", value: "articulo" }, { text: "Categoria", value: "categoria" }, { text: "Descripcion", value: "descripcion", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], articulos: [], texto: "", verArticulos: 0, verDet: 0, valida: 0, validaMensaje: [], errorApi: null, adModal: 0, adAccion: 0, adNombre: "", adId: "" } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad; return t } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { mostrarNuevo: function () { this.verNuevo = 1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, buscarCodigo: function () { var t = this; t.errorArticulo = null; var e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Articulos/BuscarCodigoIngreso/" + this.codigo, a).then(function (e) { t.agregarDetalle(e.data) }).then(function (t) { }).catch(function (e) { console.log(e), t.errorArticulo = "No Existe el Articulo" }) }, listarArticulo: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Articulos/ListarIngreso/" + t.texto, a).then(function (e) { t.articulos = e.data }).catch(function (t) { console.log(t) }) }, mostrarArticulo: function () { this.verArticulos = 1 }, ocultarArticulo: function () { this.verArticulos = 0 }, cerrarDetalle: function () { this.verArticulos = 0 }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El articulo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: 1 }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, eliminarDetalle: function (t, e) { var a = t.indexOf(e); -1 != a && t.splice(a, 1) }, listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.search ? "Ingresos/ListarFiltro/" + this.search : "Ingresos/Listar", L.a.get(o, a).then(function (e) { t.ingresos = e.data }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Ingresos/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idproveedor = t.idproveedor, this.impuesto = t.impuesto, this.listarDetalles(t.idingreso), this.verNuevo = 1, this.verDet = 1 }, select: function () { var t = this, e = [], a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Personas/SelectProveedores ", o).then(function (a) { e = a.data, e.map(function (e) { t.proveedores.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idproveedor = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = "18", this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0 }, guardar: function () { var t = this; if (this.validar()) console.log(this.validaMensaje); else { var e = this, a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.post("Ingresos/Crear", { idproveedor: e.idproveedor, idusuario: e.$store.state.usuario.idusuario, tipo_comprobante: e.tipo_comprobante, serie_comprobante: e.serie_comprobante, num_comprobante: e.num_comprobante, impuesto: e.impuesto, total: e.total, detalles: e.detalles }, o).then(function (t) { e.ocultarNuevo(), e.listar(), e.limpiar() }).then(function (t) { }).catch(function (e) { 400 == e.response.status && (t.errorApi = "El email registrado ya existe") }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], this.idproveedor || this.validaMensaje.push("Seleccione un Proveedor."), this.tipo_comprobante || this.validaMensaje.push("Seleccione un Tipo de comprobante."), this.num_comprobante || this.validaMensaje.push("Ingrese el numero del comprobante."), (!this.impuesto || this.impuesto < 0) && this.validaMensaje.push("Ingrese un impuesto valido."), this.detalles.length <= 0 && this.validaMensaje.push("Ingrese al menos un articulo al detalle."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.num_comprobante, this.adId = e.idingreso, 1 == t ? this.adAccion = 1 : 2 == t ? this.adAccion = 2 : this.adModal = 0 }, desactivar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Ingresos/Anular/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, ActivarDesactivarCerrar: function () { this.adModal = 0 } } }), Qt = Xt, Jt = Object(c["a"])(Qt, Kt, Wt, !1, null, null, null); Jt.options.__file = "Ingreso.vue"; var Zt = Jt.exports; u()(Jt, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var Yt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Ventas")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), 0 == t.verNuevo ? a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }) : t._e(), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.listar } }, [t._v("Buscar")]) : t._e(), a("v-spacer"), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.mostrarNuevo } }, [t._v("Nuevo")]) : t._e(), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.verArticulos, callback: function (e) { t.verArticulos = e }, expression: "verArticulos" } }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v("Seleccione un Articulo")]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Ingrese articulo a buscar" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.listarArticulo(e) : null } }, model: { value: t.texto, callback: function (e) { t.texto = e }, expression: "texto" } }), [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraArticulos, items: t.articulos }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.agregarDetalle(e.item) } } }, [t._v("\n                                                            add\n                                                            ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.categoria))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [t._v(t._s(e.item.stock))]), a("td", [t._v(t._s(e.item.precio_venta))])] } }]) }, [a("template", { slot: "no-data" }, [a("h3", [t._v("No hay articulos para Mostrar")])])], 2)]], 2)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken", flat: "" }, on: { click: t.ocultarArticulo } }, [t._v("\n                                    Cancelar\n                                ")])], 1)], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "290px" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("Anular Venta?")]) : t._e(), a("v-card-text", [t._v("\n                            Estas a punto de\n                            "), 2 == t.adAccion ? a("span", [t._v("Anular")]) : t._e(), t._v("\n                            la venta con numero " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "red darken-2", flat: "flat" }, on: { click: t.ActivarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "blue darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Anular\n                            ")]) : t._e()], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.comprobanteModal, callback: function (e) { t.comprobanteModal = e }, expression: "comprobanteModal" } }, [a("v-card", [a("v-card-text", [a("v-btn", { on: { click: t.crearPDF } }, [a("v-icon", [t._v("print")])], 1), a("div", { attrs: { id: "factura" } }, [a("header", [a("div", { attrs: { id: "logo" } }, [a("img", { attrs: { src: "data:image/png;base64,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", id: "imagen" } })]), a("div", { attrs: { id: "datos" } }, [a("p", { attrs: { id: "encabezado" } }, [a("b", [t._v("IncanatoIT")]), a("br"), t._v("José Gálvez 1368, Chongoyape - Chiclayo, Perú"), a("br"), t._v("Telefono:(+51)931742904"), a("br"), t._v("Email:jcarlos.ad7@gmail.com\n                                        ")])]), a("div", { attrs: { id: "fact" } }, [a("p", [t._v(t._s(t.tipo_comprobante)), a("br"), t._v("\n                                        " + t._s(t.serie_comprobante) + "-" + t._s(t.num_comprobante) + " "), a("br"), t._v("\n                                        " + t._s(t.fecha))])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facliente" } }, [a("tbody", [a("tr", [a("td", { attrs: { id: "cliente" } }, [a("strong", [t._v("Sr(a). " + t._s(t.cliente))]), a("br"), a("strong", [t._v("Documento:")]), t._v(" " + t._s(t.numDocumento)), a("br"), a("strong", [t._v("Dirección:")]), t._v(" " + t._s(t.direccion)), a("br"), a("strong", [t._v("Teléfono:")]), t._v(" " + t._s(t.telefono)), a("br"), a("strong", [t._v("Email:")]), t._v(" " + t._s(t.email) + "\n                                                    ")])])])])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facarticulo" } }, [a("thead", [a("tr", { attrs: { id: "fa" } }, [a("th", [t._v("CANT")]), a("th", [t._v("DESCRIPCION")]), a("th", [t._v("PRECIO UNIT")]), a("th", [t._v("DESC.")]), a("th", [t._v("PRECIO TOTAL")])])]), a("tbody", t._l(t.detalles, function (e) { return a("tr", { key: e.iddetalle_venta }, [a("td", { staticStyle: { "text-align": "center" } }, [t._v(t._s(e.cantidad))]), a("td", [t._v(t._s(e.articulo))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(e.precio.toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(e.descuento.toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s((e.cantidad * e.precio - e.descuento).toFixed(2)))])]) })), a("tfoot", [a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("SUBTOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("IGV (" + t._s(t.impuesto) + "%)")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("TOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)))])])])])])]), a("br"), a("br"), a("footer", [a("div", { attrs: { id: "gracias" } }, [a("p", [a("b", [t._v("Gracias por su compra!")])])])])]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarComprobante } }, [t._v("Cancelar")])], 1)], 1)], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ventas, search: t.search }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.verDetalles(e.item) } } }, [t._v("\n                    tab\n                    ")]), a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.mostrarComprobante(e.item) } } }, [t._v("\n                    print\n                    ")]), "Aceptado" == e.item.estado ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                    block\n                    ")])] : t._e()], 2), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.cliente))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v(t._s(e.item.impuesto))]), a("td", [t._v(t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2) : t._e(), t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante" }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante" }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Numero Comprobante" }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.clientes, label: "Cliente" }, model: { value: t.idcliente, callback: function (e) { t.idcliente = e }, expression: "idcliente" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Impuesto" }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-text-field", { attrs: { label: "Codigo" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.buscarCodigo(e) : null } }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } })], 1), a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("v-btn", { attrs: { small: "", fab: "", dark: "", color: "teal" }, on: { click: t.mostrarArticulo } }, [a("v-icon", { attrs: { dark: "" } }, [t._v("list")])], 1)], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraDatalles, items: t.detalles, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.eliminarDetalle(t.detalles, e.item) } } }, [t._v("\n                                delete\n                                ")])], 1), a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.descuento, callback: function (a) { t.$set(e.item, "descuento", a) }, expression: "props.item.descuento" } })], 1), a("td", [t._v("$ " + t._s(e.item.cantidad * e.item.precio - e.item.descuento))])] } }]) }, [a("template", { slot: "no-data" }, [a("h3", [t._v("No hay articulos agregados al detalle")])])], 2), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                    ")])], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) })), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v("Cancelar")]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success" }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1) : t._e()], 1)], 1) }, te = [], ee = a("c0e9"), ae = a.n(ee), oe = { data: function () { return { ventas: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Cliente", value: "cliente" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Numero Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora", sortable: !1 }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDatalles: [{ text: "Borrar", value: "borrar", sortable: !1 }, { text: "Articulo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Descuento", value: "descuento", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], detalles: [], search: "", id: "", idcliente: "", clientes: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET", "GUIA"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Articulo", value: "articulo" }, { text: "Categoria", value: "categoria" }, { text: "Descripcion", value: "descripcion", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], articulos: [], texto: "", verArticulos: 0, verDet: 0, valida: 0, validaMensaje: [], errorApi: null, adModal: 0, adAccion: 0, adNombre: "", adId: "", comprobanteModal: 0, cliente: "", fecha: "", numDocumento: "", direccion: "", telefono: "", email: "" } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad - this.detalles[e].descuento; return t } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { crearPDF: function () { var t = document.getElementById("factura"); ae()(t).then(function (t) { var e = t.toDataURL("image/png"), a = 210, o = t.height * a / t.width, i = new ut["default"]("p", "mm", "a4"), s = 0; i.addImage(e, "PNG", 0, s, a, o), i.save("ComprobanteVenta.pdf") }) }, mostrarComprobante: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.cliente = t.cliente, this.numDocumento = t.numDocumento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.fecha = t.fecha_hora, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.comprobanteModal = 1 }, ocultarComprobante: function () { this.comprobanteModal = 0, this.limpiar() }, mostrarNuevo: function () { this.verNuevo = 1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, buscarCodigo: function () { var t = this; t.errorArticulo = null; var e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Articulos/BuscarCodigoVenta/" + this.codigo, a).then(function (e) { t.agregarDetalle(e.data) }).then(function (t) { }).catch(function (e) { console.log(e), t.errorArticulo = "No Existe el Articulo" }) }, listarArticulo: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.get("Articulos/ListarVenta/" + t.texto, a).then(function (e) { t.articulos = e.data }).catch(function (t) { console.log(t) }) }, mostrarArticulo: function () { this.verArticulos = 1 }, ocultarArticulo: function () { this.verArticulos = 0 }, cerrarDetalle: function () { this.verArticulos = 0 }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El articulo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: t["precio_venta"], descuento: 0 }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, eliminarDetalle: function (t, e) { var a = t.indexOf(e); -1 != a && t.splice(a, 1) }, listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.search ? "Ventas/ListarFiltro/" + this.search : "Ventas/Listar", L.a.get(o, a).then(function (e) { t.ventas = e.data }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Ventas/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idcliente = t.idcliente, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.verNuevo = 1, this.verDet = 1 }, select: function () { var t = this, e = [], a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Personas/SelectClientes ", o).then(function (a) { e = a.data, e.map(function (e) { t.clientes.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idcliente = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = "18", this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0 }, guardar: function () { var t = this; if (this.validar()) console.log(this.validaMensaje); else { var e = this, a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.post("Ventas/Crear", { idcliente: e.idcliente, idusuario: e.$store.state.usuario.idusuario, tipo_comprobante: e.tipo_comprobante, serie_comprobante: e.serie_comprobante, num_comprobante: e.num_comprobante, impuesto: e.impuesto, total: e.total, detalles: e.detalles }, o).then(function (t) { e.ocultarNuevo(), e.listar(), e.limpiar() }).then(function (t) { }).catch(function (e) { 400 == e.response.status && (t.errorApi = "El email registrado ya existe") }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], this.idcliente || this.validaMensaje.push("Seleccione un Cliente."), this.tipo_comprobante || this.validaMensaje.push("Seleccione un Tipo de comprobante."), this.num_comprobante || this.validaMensaje.push("Ingrese el numero del comprobante."), (!this.impuesto || this.impuesto < 0) && this.validaMensaje.push("Ingrese un impuesto valido."), this.detalles.length <= 0 && this.validaMensaje.push("Ingrese al menos un articulo al detalle."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.num_comprobante, this.adId = e.idventa, 1 == t ? this.adAccion = 1 : 2 == t ? this.adAccion = 2 : this.adModal = 0 }, desactivar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }; L.a.put("Ventas/Anular/" + t.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, ActivarDesactivarCerrar: function () { this.adModal = 0 } } }, ie = oe, se = (a("1a30"), Object(c["a"])(ie, Yt, te, !1, null, "578d37e6", null)); se.options.__file = "Venta.vue"; var re = se.exports; u()(se, { VBtn: m["a"], VCard: h["a"], VCardActions: p["a"], VCardText: p["b"], VCardTitle: at["a"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var ne = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Consulta Ventas")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), t._v("\n                Desde: \n                "), 0 == t.verNuevo ? a("v-text-field", { staticClass: "text-xs-center", attrs: { type: "date" }, model: { value: t.fechaInicio, callback: function (e) { t.fechaInicio = e }, expression: "fechaInicio" } }) : t._e(), t._v("\n                Hasta: \n                "), 0 == t.verNuevo ? a("v-text-field", { staticClass: "text-xs-center", attrs: { type: "date" }, model: { value: t.fechaFin, callback: function (e) { t.fechaFin = e }, expression: "fechaFin" } }) : t._e(), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.listar } }, [t._v("Buscar")]) : t._e(), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.comprobanteModal, callback: function (e) { t.comprobanteModal = e }, expression: "comprobanteModal" } }, [a("v-card", [a("v-card-text", [a("v-btn", { on: { click: t.crearPDF } }, [a("v-icon", [t._v("print")])], 1), a("div", { attrs: { id: "factura" } }, [a("header", [a("div", { attrs: { id: "logo" } }, [a("img", { attrs: { src: "data:image/png;base64,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", id: "imagen" } })]), a("div", { attrs: { id: "datos" } }, [a("p", { attrs: { id: "encabezado" } }, [a("b", [t._v("IncanatoIT")]), a("br"), t._v("José Gálvez 1368, Chongoyape - Chiclayo, Perú"), a("br"), t._v("Telefono:(+51)931742904"), a("br"), t._v("Email:jcarlos.ad7@gmail.com\n                                        ")])]), a("div", { attrs: { id: "fact" } }, [a("p", [t._v(t._s(t.tipo_comprobante)), a("br"), t._v("\n                                        " + t._s(t.serie_comprobante) + "-" + t._s(t.num_comprobante) + " "), a("br"), t._v("\n                                        " + t._s(t.fecha))])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facliente" } }, [a("tbody", [a("tr", [a("td", { attrs: { id: "cliente" } }, [a("strong", [t._v("Sr(a). " + t._s(t.cliente))]), a("br"), a("strong", [t._v("Documento:")]), t._v(" " + t._s(t.numDocumento)), a("br"), a("strong", [t._v("Dirección:")]), t._v(" " + t._s(t.direccion)), a("br"), a("strong", [t._v("Teléfono:")]), t._v(" " + t._s(t.telefono)), a("br"), a("strong", [t._v("Email:")]), t._v(" " + t._s(t.email) + "\n                                                    ")])])])])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facarticulo" } }, [a("thead", [a("tr", { attrs: { id: "fa" } }, [a("th", [t._v("CANT")]), a("th", [t._v("DESCRIPCION")]), a("th", [t._v("PRECIO UNIT")]), a("th", [t._v("DESC.")]), a("th", [t._v("PRECIO TOTAL")])])]), a("tbody", t._l(t.detalles, function (e) { return a("tr", { key: e.iddetalle_venta }, [a("td", { staticStyle: { "text-align": "center" } }, [t._v(t._s(e.cantidad))]), a("td", [t._v(t._s(e.articulo))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(e.precio.toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(e.descuento.toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s((e.cantidad * e.precio - e.descuento).toFixed(2)))])]) })), a("tfoot", [a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("SUBTOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("IGV (" + t._s(t.impuesto) + "%)")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("TOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)))])])])])])]), a("br"), a("br"), a("footer", [a("div", { attrs: { id: "gracias" } }, [a("p", [a("b", [t._v("Gracias por su compra!")])])])])]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarComprobante } }, [t._v("Cancelar")])], 1)], 1)], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ventas }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.verDetalles(e.item) } } }, [t._v("\n                    tab\n                    ")]), a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { t.mostrarComprobante(e.item) } } }, [t._v("\n                    print\n                    ")])], 1), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.cliente))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v(t._s(e.item.impuesto))]), a("td", [t._v(t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }]) }, [a("template", { slot: "no-data" }, [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])], 1)], 2) : t._e(), t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante" }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante" }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Numero Comprobante" }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.clientes, label: "Cliente" }, model: { value: t.idcliente, callback: function (e) { t.idcliente = e }, expression: "idcliente" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Impuesto" }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-text-field", { attrs: { label: "Codigo" }, on: { keyup: function (e) { return "button" in e || !t._k(e.keyCode, "enter", 13, e.key, "Enter") ? t.buscarCodigo(e) : null } }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } })], 1), a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("v-btn", { attrs: { small: "", fab: "", dark: "", color: "teal" }, on: { click: t.mostrarArticulo } }, [a("v-icon", { attrs: { dark: "" } }, [t._v("list")])], 1)], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraDatalles, items: t.detalles, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number" }, model: { value: e.item.descuento, callback: function (a) { t.$set(e.item, "descuento", a) }, expression: "props.item.descuento" } })], 1), a("td", [t._v("$ " + t._s(e.item.cantidad * e.item.precio - e.item.descuento))])] } }]) }, [a("template", { slot: "no-data" }, [a("h3", [t._v("No hay articulos agregados al detalle")])])], 2), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                    ")])], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) })), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v("Cancelar")]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success" }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1) : t._e()], 1)], 1) }, le = [], ce = { data: function () { return { ventas: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Cliente", value: "cliente" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Numero Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora", sortable: !1 }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDatalles: [{ text: "Articulo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Descuento", value: "descuento", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], detalles: [], search: "", id: "", idcliente: "", clientes: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET", "GUIA"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Articulo", value: "articulo" }, { text: "Categoria", value: "categoria" }, { text: "Descripcion", value: "descripcion", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], articulos: [], texto: "", verArticulos: 0, verDet: 0, valida: 0, validaMensaje: [], errorApi: null, adModal: 0, adAccion: 0, adNombre: "", adId: "", comprobanteModal: 0, cliente: "", fecha: "", numDocumento: "", direccion: "", telefono: "", email: "", fechaInicio: "", fechaFin: "" } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad - this.detalles[e].descuento; return t } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { crearPDF: function () { var t = document.getElementById("factura"); ae()(t).then(function (t) { var e = t.toDataURL("image/png"), a = 210, o = t.height * a / t.width, i = new ut["default"]("p", "mm", "a4"), s = 0; i.addImage(e, "PNG", 0, s, a, o), i.save("ComprobanteVenta.pdf") }) }, mostrarComprobante: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.cliente = t.cliente, this.numDocumento = t.numDocumento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.fecha = t.fecha_hora, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.comprobanteModal = 1 }, ocultarComprobante: function () { this.comprobanteModal = 0, this.limpiar() }, mostrarNuevo: function () { this.verNuevo = 1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, cerrarDetalle: function () { this.verArticulos = 0 }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El articulo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: t["precio_venta"], descuento: 0 }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, listar: function () { var t = this, e = { Authorization: " Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.fechaInicio && t.fechaFin ? "Ventas/ConsultaFechas/" + t.fechaInicio + "/" + t.fechaFin : "Ventas/Listar", L.a.get(o, a).then(function (e) { t.ventas = e.data }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Ventas/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idcliente = t.idcliente, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.verNuevo = 1, this.verDet = 1 }, select: function () { var t = this, e = [], a = { Authorization: " Bearer " + this.$store.state.token }, o = { headers: a }; L.a.get("Personas/SelectClientes ", o).then(function (a) { e = a.data, e.map(function (e) { t.clientes.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idcliente = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = "18", this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0 } } }, de = ce, ue = (a("38b6"), Object(c["a"])(de, ne, le, !1, null, "dc5e96d8", null)); ue.options.__file = "ConsultaVenta.vue"; var ve = ue.exports; u()(ue, { VBtn: m["a"], VCard: h["a"], VCardText: p["b"], VContainer: b["a"], VDataTable: ot["a"], VDialog: it["a"], VDivider: st["a"], VFlex: _["a"], VIcon: g["a"], VLayout: k["a"], VSelect: ht["a"], VSpacer: w["a"], VTextField: rt["a"], VToolbar: T["a"], VToolbarTitle: N["a"] }); var me = a("2f62"), he = a("1232"); o["a"].use(me["a"]); var pe = new me["a"].Store({ state: { token: null, usuario: null }, mutations: { setToken: function (t, e) { t.token = e }, setUsuario: function (t, e) { t.usuario = e } }, actions: { guardarToken: function (t, e) { var a = t.commit; a("setToken", e), a("setUsuario", Object(he["a"])(e)), localStorage.setItem("token", e) }, autoLogin: function (t) { var e = t.commit, a = localStorage.getItem("token"); a && (e("setToken", a), e("setUsuario", Object(he["a"])(a))), fe.push({ name: "home" }) }, salir: function (t) { var e = t.commit; e("setToken", null), e("setUsuario", null), localStorage.removeItem("token"), fe.push({ name: "login" }) } } }); o["a"].use(S["a"]); var be = new S["a"]({ mode: "history", base: "/", routes: [{ path: "/", name: "home", component: J, meta: { administrador: !0, almacenero: !0, vendedor: !0 } }, { path: "/categorias", name: "categorias", component: lt, meta: { administrador: !0, almacenero: !0 } }, { path: "/articulos", name: "articulos", component: bt, meta: { administrador: !0, almacenero: !0 } }, { path: "/roles", name: "roles", component: Ct, meta: { administrador: !0 } }, { path: "/usuarios", name: "usuarios", component: Mt, meta: { administrador: !0 } }, { path: "/clientes", name: "clientes", component: Et, meta: { administrador: !0, vendedor: !0 } }, { path: "/proveedores", name: "proveedores", component: Bt, meta: { administrador: !0, almacenero: !0 } }, { path: "/ingreso", name: "ingreso", component: Zt, meta: { administrador: !0, almacenero: !0 } }, { path: "/login", name: "login", component: Ht, meta: { libre: !0 } }, { path: "/venta", name: "venta", component: re, meta: { administrador: !0, vendedor: !0 } }, { path: "/consultaVentas", name: "consultaVentas", component: ve, meta: { administrador: !0 } }] }); be.beforeEach(function (t, e, a) { t.matched.some(function (t) { return t.meta.libre }) ? a() : pe.state.usuario && "Administrador" == pe.state.usuario.rol ? t.matched.some(function (t) { return t.meta.administrador }) && a() : pe.state.usuario && "Almacenero" == pe.state.usuario.rol ? t.matched.some(function (t) { return t.meta.almacenero }) && a() : pe.state.usuario && "Vendedor" == pe.state.usuario.rol ? t.matched.some(function (t) { return t.meta.vendedor }) && a() : a({ name: "login" }) }); var fe = be; o["a"].config.productionTip = !1, L.a.defaults.baseURL ="https://localhost:44369/api/",new o["a"]({router:fe,store:pe,render:function(t){return t(E)}}).$mount("#app")},"5a11":function(t,e,a){},"8db1":function(t,e,a){},c00c:function(t,e,a){},c594:function(t,e,a){"use strict";var o=a("c00c"),i=a.n(o);i.a}});
//# sourceMappingURL=app.7160fd85.js.map